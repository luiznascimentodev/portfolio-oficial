<!DOCTYPE html>
<html lang="pt-br">
  <head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0, maximum-scale=5.0">
    <meta name="description" content="Página não encontrada - Portfólio de Luiz Nascimento">
    <meta name="author" content="Luiz Nascimento">
    <meta name="robots" content="noindex, nofollow">
    <meta name="theme-color" content="#111827">
    <meta name="color-scheme" content="dark">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">

    <title>404 - Página Não Encontrada | Luiz Nascimento</title>

    <!-- Favicon -->
    <link rel="icon" type="image/svg+xml" href="./favicon.svg">
    <link rel="alternate icon" href="./favicon.svg">
    <link rel="mask-icon" href="./favicon.svg" color="#0F172A">

    <!-- Preconnect to external resources -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>

    <!-- Preload critical resources -->
    <link rel="preload" href="./src/assets/avatar-img-small.webp" as="image" type="image/webp">
    <link rel="preload" href="./src/assets/avatar-img.webp" as="image" type="image/webp">

    <!-- Font optimization -->
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800;900&display=swap" rel="stylesheet">

    <!-- Critical CSS inlining for 404 page -->
    <style>
      /* Critical CSS for 404 page loading */
      body {
        font-family: 'Inter', system-ui, -apple-system, sans-serif;
        margin: 0;
        padding: 0;
        background: linear-gradient(135deg, #111827 0%, #1f2937 100%);
        color: white;
        min-height: 100vh;
      }

      #not-found-app {
        min-height: 100vh;
        display: flex;
        align-items: center;
        justify-content: center;
      }

      .loading-fallback {
        text-align: center;
        padding: 2rem;
      }

      .loading-spinner {
        width: 40px;
        height: 40px;
        border: 4px solid rgba(59, 130, 246, 0.3);
        border-left: 4px solid #3b82f6;
        border-radius: 50%;
        animation: spin 1s linear infinite;
        margin: 0 auto 1rem;
      }

      @keyframes spin {
        0% { transform: rotate(0deg); }
        100% { transform: rotate(360deg); }
      }

      /* Hide loading fallback when app loads */
      #not-found-app:not(:empty) ~ .loading-fallback {
        display: none;
      }
    </style>

    <!-- Structured Data for 404 page -->
    <script type="application/ld+json">
    {
      "@context": "https://schema.org",
      "@type": "WebPage",
      "name": "404 - Página Não Encontrada",
      "description": "A página solicitada não foi encontrada no portfólio de Luiz Nascimento",
      "url": "https://luiz-nascimento.com/404",
      "isPartOf": {
        "@type": "WebSite",
        "name": "Luiz Nascimento - Portfólio",
        "url": "https://luiz-nascimento.com"
      }
    }
    </script>
  </head>
  <body>
    <!-- Loading spinner and fallback -->
    <div class="loading-fallback">
      <div class="loading-spinner"></div>
      <p>Carregando página de erro...</p>
      <noscript>
        <div style="text-align: center; padding: 2rem;">
          <h1>404 - Página Não Encontrada</h1>
          <p>A página que você está procurando não existe.</p>
          <a href="/" style="color: #3b82f6; text-decoration: none;">← Voltar ao início</a>
        </div>
      </noscript>
    </div>

    <!-- Vue App Mount Point -->
    <div id="not-found-app"></div>

    <!-- Script de inicialização com fallback -->
    <script type="module" src="./src/entries/404.js"></script>

    <!-- Error handling para casos de falha no carregamento -->
    <script>
      // Fallback error handling
      window.addEventListener('error', function(e) {
        console.error('Erro no carregamento da página 404:', e);
        const fallback = document.querySelector('.loading-fallback');
        if (fallback && !document.querySelector('#not-found-app').hasChildNodes()) {
          fallback.innerHTML = `
            <div style="text-align: center; padding: 2rem;">
              <h1 style="color: #ef4444;">404 - Página Não Encontrada</h1>
              <p>A página que você está procurando não existe.</p>
              <a href="/" style="color: #3b82f6; text-decoration: none; padding: 0.5rem 1rem; border: 1px solid #3b82f6; border-radius: 0.5rem; display: inline-block; margin-top: 1rem;">← Voltar ao início</a>
            </div>
          `;
        }
      });

      // Timeout fallback
      setTimeout(function() {
        const app = document.querySelector('#not-found-app');
        const fallback = document.querySelector('.loading-fallback');
        if (app && !app.hasChildNodes() && fallback) {
          fallback.innerHTML = `
            <div style="text-align: center; padding: 2rem;">
              <h1 style="color: #ef4444;">404 - Página Não Encontrada</h1>
              <p>A página que você está procurando não existe.</p>
              <a href="/" style="color: #3b82f6; text-decoration: none; padding: 0.5rem 1rem; border: 1px solid #3b82f6; border-radius: 0.5rem; display: inline-block; margin-top: 1rem;">← Voltar ao início</a>
            </div>
          `;
        }
      }, 5000);
    </script>
  </body>
</html>
